<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Meta Information -->
  <title>Bubbles Delight</title>
  <!-- Head -->
  <%- include('partials/_head') %>

  <!-- For page preload... -->
  <style>
	#overlay{
		position: fixed;
		top: 0;
		z-index: 100;
		width: 100%;
		height: 100%;
		background: rgba(0, 0, 0, 0.9);
	}
	.cv-spinner{
		height: 100%;
		display: flex;
		justify-content: center;
		align-items: center;
	}
</style>
</head>

<body>
  <!-- Preload section -->

  <div id="overlay">
	  <div class="cv-spinner">
		  <div class="spinner">
			  <img src="https://media.giphy.com/media/KYhj4WyJnTdoXtHosk/giphy.gif" alt="">
			  <!-- <img src="/images/4.svg" alt=""> -->
		  </div>
	  </div>
  </div>

  <!-- Navbar -->
  <%- include('partials/_navbar') %>

  <!-- Cover photo and text -->
  <header class="shadow">
    <h1>Bubbles Delight</h1>
    <h3>De<em>light</em>ful bubbleteas brewed by Lighthouse Labs!</h3>

    <!-- Carousel part -->
    <%- include('partials/_carousel') %>
  </header>

  <!-- All the bubbletea menu items -->
  <main class="container mt-4">
    <h4 class="pt-2 mb-5"><em>A taste of heaven in every sip...</em></h4>
    <div id="bubbleteaMenu" class="row row-cols-1 row-cols-md-4">
      <!-- Render each bubbletea -->
      <% for (const bubbletea of bubbleteas) { %>
      <div class="col mb-4">
        <div class="card h-100 shadow">
          <div class="menu-item">
            <img src=<%= bubbletea.image_url%> class="card-img-top" alt=<%= bubbletea.name %> />
          </div>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title"><%= bubbletea.name %></h5>
            <p class="card-text">Price: <span class="card-price">$<%= bubbletea.cost / 100 %></span></p>

            <!-- Button trigger modal -->
            <button type="submit" class="bubbleteaOptionsBtn w-100 mt-auto btn btn-success">Pick Me!</button>

            <!-- Button Add to Cart -->
            <!-- Do we need to change the id here to class because id will appear for all these buttons? -->
            <!-- <button id="addToCart" type="button" class="w-100 mt-auto btn btn-danger">Add to Cart</button> -->
            <span class="d-none"><%= bubbletea.id %></span>
          </div>
        </div>
      </div>
      <% } %>
  </main>

          <form>
              <!-- Hot/Cold Switch -->
              <input id="hot-cold-toggle" type="checkbox" checked data-toggle="toggle" data-on="<i class='far fa-snowflake mr-2'></i>Cold"
              data-off="Hot<i class='fab fa-hotjar ml-2'></i>" data-onstyle="primary" data-offstyle="danger"
              data-width="100%">
            </form>


  <!-- Options Modal -->
  <%- include('partials/_customizations') %>

  <!-- Footer -->
  <%- include('partials/_footer') %>

  <!-- jQuery and Bootstrap Bundle -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous">
  </script>

  <!-- Preload js -->
  <script>
	$(document).ready(function(){
		$(".btn-danger").click(function(event) {
			$("#overlay").fadeIn("fast", function() {
				$("#overlay").delay(1000).fadeOut("slow");
			});
		});

		$("#overlay").delay(3000).fadeOut("slow");

	})
</script>
</body>

</html>
